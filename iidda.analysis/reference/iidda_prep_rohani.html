<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Prep Data for Rohani Plot — iidda_prep_rohani • iidda.analysis</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Prep Data for Rohani Plot — iidda_prep_rohani"><meta name="description" content="Prep data for rohani plots. Prep steps include creating additional time unit fields, summarizing the series
variable by time unit and grouping variable (the x and y axis variables) ,and optionally normalizing series
data to be in the range (0,1). By default, the grouping variable is ranked in order of the summarized series
variable. Needs to be generalized more, might
need to handle the case where the desired y-axis is a second time unit, as in the seasonal heatmap plot and therefore
making use of the year_end_fix function."><meta property="og:description" content="Prep data for rohani plots. Prep steps include creating additional time unit fields, summarizing the series
variable by time unit and grouping variable (the x and y axis variables) ,and optionally normalizing series
data to be in the range (0,1). By default, the grouping variable is ranked in order of the summarized series
variable. Needs to be generalized more, might
need to handle the case where the desired y-axis is a second time unit, as in the seasonal heatmap plot and therefore
making use of the year_end_fix function."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">iidda.analysis</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/flexi_filter.html">flexi_filter</a></li>
    <li><a class="dropdown-item" href="../articles/plot_rohani.html">plot_rohani</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Prep Data for Rohani Plot</h1>

      <div class="d-none name"><code>iidda_prep_rohani.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Prep data for rohani plots. Prep steps include creating additional time unit fields, summarizing the series
variable by time unit and grouping variable (the x and y axis variables) ,and optionally normalizing series
data to be in the range (0,1). By default, the grouping variable is ranked in order of the summarized series
variable. Needs to be generalized more, might
need to handle the case where the desired y-axis is a second time unit, as in the seasonal heatmap plot and therefore
making use of the year_end_fix function.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">iidda_prep_rohani</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  series_variable <span class="op">=</span> <span class="st">"deaths"</span>,</span>
<span>  time_variable <span class="op">=</span> <span class="st">"period_end_date"</span>,</span>
<span>  start_time_variable <span class="op">=</span> <span class="st">"period_end_date"</span>,</span>
<span>  time_unit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"year"</span><span class="op">)</span>,</span>
<span>  grouping_variable <span class="op">=</span> <span class="st">"cause"</span>,</span>
<span>  ranking_variable <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  normalize <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  handle_missing_values <span class="op">=</span> <span class="fu"><a href="HandleMissingValues.html">HandleMissingValues</a></span><span class="op">(</span>na_remove <span class="op">=</span> <span class="cn">FALSE</span>, na_replace <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>  handle_zero_values <span class="op">=</span> <span class="fu"><a href="HandleZeroValues.html">HandleZeroValues</a></span><span class="op">(</span>zero_remove <span class="op">=</span> <span class="cn">FALSE</span>, zero_replace <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>  create_nonexistent <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>data frame containing time series data</p></dd>


<dt id="arg-series-variable">series_variable<a class="anchor" aria-label="anchor" href="#arg-series-variable"></a></dt>
<dd><p>column name of series variable in `data`, default is "deaths"</p></dd>


<dt id="arg-time-variable">time_variable<a class="anchor" aria-label="anchor" href="#arg-time-variable"></a></dt>
<dd><p>column name of time variable in `data`, default is "period_end_date"</p></dd>


<dt id="arg-start-time-variable">start_time_variable<a class="anchor" aria-label="anchor" href="#arg-start-time-variable"></a></dt>
<dd><p>column name of time variable in `data`, default is "period_end_date"</p></dd>


<dt id="arg-time-unit">time_unit<a class="anchor" aria-label="anchor" href="#arg-time-unit"></a></dt>
<dd><p>a vector of new time unit fields to create from `start_time_variable` and `end_time_variable`.
Defaults to "c("year")". The currently functionality expects that "year" is included, should be
made more general to incorporate any of iidda.analysis:::time_units.</p></dd>


<dt id="arg-grouping-variable">grouping_variable<a class="anchor" aria-label="anchor" href="#arg-grouping-variable"></a></dt>
<dd><p>column name of grouping variable to appear on the y-axis of the heatmap.</p></dd>


<dt id="arg-ranking-variable">ranking_variable<a class="anchor" aria-label="anchor" href="#arg-ranking-variable"></a></dt>
<dd><p>column name of variable used to rank the grouping variable.</p></dd>


<dt id="arg-normalize">normalize<a class="anchor" aria-label="anchor" href="#arg-normalize"></a></dt>
<dd><p>boolean flag to normalize `series_variable` data to be between 0 and 1.</p></dd>


<dt id="arg-handle-missing-values">handle_missing_values<a class="anchor" aria-label="anchor" href="#arg-handle-missing-values"></a></dt>
<dd><p>function to handle missing values, defaults to HandleMissingValues</p></dd>


<dt id="arg-handle-zero-values">handle_zero_values<a class="anchor" aria-label="anchor" href="#arg-handle-zero-values"></a></dt>
<dd><p>function to handle zero values, defaults to HandleZeroValues</p></dd>


<dt id="arg-create-nonexistent">create_nonexistent<a class="anchor" aria-label="anchor" href="#arg-create-nonexistent"></a></dt>
<dd><p>boolean flag to create <code>NA</code> records for non-existent `time_unit` and `grouping_variable`.
This creates all combinations of `time_unit` and `grouping_variable` to ensure there are no missing records.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>all fields in`data` with records prepped for plotting rohani heatmaps. The name
of the new `time_unit` fields will be named from lubridate_funcs.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Steven Walker.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

